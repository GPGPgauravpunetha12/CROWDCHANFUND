(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{9934:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return g},default:function(){return y}});var i=n(29),r=n(7794),a=n.n(r),o=n(186),s=n(5675),d=n.n(s),u=n(241),c=n(8388),p=n(4146),l=n(5553),m=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"campaignTitle","type":"string"},{"internalType":"uint256","name":"requiredCampaignAmount","type":"uint256"},{"internalType":"string","name":"imgURI","type":"string"},{"internalType":"string","name":"storyURI","type":"string"},{"internalType":"address","name":"campaignOwner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"donar","type":"address"},{"indexed":true,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"donated","type":"event"},{"inputs":[],"name":"donate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"image","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"receivedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"requiredAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"story","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"title","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]}'),h=n(7294),f=n(5893),g=!0;function y(e){var t=e.Data,n=e.DonationsData,r=(0,h.useState)([]),o=r[0],s=r[1],g=(0,h.useState)(""),y=g[0],R=g[1],E=(0,h.useState)(),z=E[0],F=E[1],L=(0,h.useState)(!1),O=L[0],U=L[1];(0,h.useEffect)((function(){var e=function(){var e=(0,i.Z)(a().mark((function e(){var n,i,r,o,d,h,f,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return i=new u.Q(window.ethereum),r=i.getSigner(),e.next=6,r.getAddress();case 6:return o=e.sent,d=new c.r("https://polygon-mumbai.g.alchemy.com/v2/Ef7CxwGNUyC2k6VvPFMgCX5x5DWGfQ_6"),h=new p.CH(t.address,m.Mt,d),fetch("https://crowdfunding.infura-ipfs.io/ipfs/"+t.storyUrl).then((function(e){return e.text()})).then((function(e){return n=e})),f=h.filters.donated(o),e.next=13,h.queryFilter(f);case 13:g=e.sent,s(g.map((function(e){return{donar:e.args.donar,amount:l.dF(e.args.amount),timestamp:parseInt(e.args.timestamp)}}))),R(n);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O]);var G=function(){var e=(0,i.Z)(a().mark((function e(){var n,i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=new u.Q(window.ethereum),i=n.getSigner(),r=new p.CH(t.address,m.Mt,i),e.next=8,r.donate({value:l.fi(z)});case 8:return o=e.sent,e.next=11,o.wait();case 11:U(!0),F(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(w,{children:[(0,f.jsxs)(x,{children:[(0,f.jsx)(v,{children:(0,f.jsx)(d(),{alt:"crowdfunding dapp",layout:"fill",src:"https://crowdfunding.infura-ipfs.io/ipfs/"+t.image})}),(0,f.jsx)(b,{children:y})]}),(0,f.jsxs)(_,{children:[(0,f.jsx)(j,{children:t.title}),(0,f.jsxs)(C,{children:[(0,f.jsx)(N,{value:z,onChange:function(e){return F(e.target.value)},type:"number",placeholder:"Enter Amount To Donate"}),(0,f.jsx)(D,{onClick:G,children:"Donate"})]}),(0,f.jsxs)(P,{children:[(0,f.jsxs)(I,{children:[(0,f.jsx)(T,{children:"Required Amount"}),(0,f.jsxs)(T,{children:[t.requiredAmount," Matic"]})]}),(0,f.jsxs)(I,{children:[(0,f.jsx)(T,{children:"Received Amount"}),(0,f.jsxs)(T,{children:[t.receivedAmount," Matic"]})]})]}),(0,f.jsxs)(Z,{children:[(0,f.jsxs)(M,{children:[(0,f.jsx)(S,{children:"Recent Donation"}),n.map((function(e){return(0,f.jsxs)(A,{children:[(0,f.jsxs)(q,{children:[e.donar.slice(0,6),"...",e.donar.slice(39)]}),(0,f.jsxs)(q,{children:[e.amount," Matic"]}),(0,f.jsx)(q,{children:new Date(1e3*e.timestamp).toLocaleString()})]},e.timestamp)}))]}),(0,f.jsxs)(k,{children:[(0,f.jsx)(S,{children:"My Past Donation"}),o.map((function(e){return(0,f.jsxs)(A,{children:[(0,f.jsxs)(q,{children:[e.donar.slice(0,6),"...",e.donar.slice(39)]}),(0,f.jsxs)(q,{children:[e.amount," Matic"]}),(0,f.jsx)(q,{children:new Date(1e3*e.timestamp).toLocaleString()})]},e.timestamp)}))]})]})]})]})}var w=o.ZP.div.withConfig({displayName:"address__DetailWrapper",componentId:"sc-hw3t8r-0"})(["display:flex;justify-content:space-between;padding:20px;width:98%;position:relative;top:5rem;"]),x=o.ZP.div.withConfig({displayName:"address__LeftContainer",componentId:"sc-hw3t8r-1"})(["width:45%;"]),_=o.ZP.div.withConfig({displayName:"address__RightContainer",componentId:"sc-hw3t8r-2"})(["width:50%;"]),v=o.ZP.div.withConfig({displayName:"address__ImageSection",componentId:"sc-hw3t8r-3"})(["width:100%;position:relative;height:350px;"]),b=o.ZP.p.withConfig({displayName:"address__Text",componentId:"sc-hw3t8r-4"})(['font-family:"Roboto";font-size:large;color:',";text-align:justify;"],(function(e){return e.theme.color})),j=o.ZP.h1.withConfig({displayName:"address__Title",componentId:"sc-hw3t8r-5"})(['padding:0;margin:0;font-family:"Poppins";font-size:x-large;color:',";"],(function(e){return e.theme.color})),C=o.ZP.div.withConfig({displayName:"address__DonateSection",componentId:"sc-hw3t8r-6"})(["display:flex;width:100%;justify-content:space-between;align-items:center;margin-top:10px;"]),N=o.ZP.input.withConfig({displayName:"address__Input",componentId:"sc-hw3t8r-7"})(["padding:8px 15px;background-color:",";color:",";border:none;border-radius:8px;outline:none;font-size:large;width:40%;height:40px;"],(function(e){return e.theme.bgDiv}),(function(e){return e.theme.color})),D=o.ZP.button.withConfig({displayName:"address__Donate",componentId:"sc-hw3t8r-8"})(["display:flex;justify-content:center;width:40%;padding:15px;color:white;background-color:#00b712;background-image:linear-gradient(180deg,#00b712 0%,#5aff15 80%);border:none;cursor:pointer;font-weight:bold;border-radius:8px;font-size:large;"]),P=o.ZP.div.withConfig({displayName:"address__FundsData",componentId:"sc-hw3t8r-9"})(["width:100%;display:flex;justify-content:space-between;margin-top:10px;"]),I=o.ZP.div.withConfig({displayName:"address__Funds",componentId:"sc-hw3t8r-10"})(["width:45%;background-color:",";padding:8px;border-radius:8px;text-align:center;"],(function(e){return e.theme.bgDiv})),T=o.ZP.p.withConfig({displayName:"address__FundText",componentId:"sc-hw3t8r-11"})(['margin:2px;padding:0;font-family:"Poppins";font-size:normal;']),Z=o.ZP.div.withConfig({displayName:"address__Donated",componentId:"sc-hw3t8r-12"})(["height:280px;margin-top:15px;background-color:",";"],(function(e){return e.theme.bgDiv})),M=o.ZP.div.withConfig({displayName:"address__LiveDonation",componentId:"sc-hw3t8r-13"})(["height:65%;overflow-y:auto;"]),k=o.ZP.div.withConfig({displayName:"address__MyDonation",componentId:"sc-hw3t8r-14"})(["height:35%;overflow-y:auto;"]),S=o.ZP.div.withConfig({displayName:"address__DonationTitle",componentId:"sc-hw3t8r-15"})(['font-family:"Roboto";font-size:x-small;text-transform:uppercase;padding:4px;text-align:center;background-color:#4cd137;']),A=o.ZP.div.withConfig({displayName:"address__Donation",componentId:"sc-hw3t8r-16"})(["display:flex;justify-content:space-between;margin-top:4px;background-color:",";padding:4px 8px;"],(function(e){return e.theme.bgSubDiv})),q=o.ZP.p.withConfig({displayName:"address__DonationData",componentId:"sc-hw3t8r-17"})(["color:",';font-family:"Roboto";font-size:large;margin:0;padding:0;'],(function(e){return e.theme.color}))},1158:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[address]",function(){return n(9934)}])}},function(e){e.O(0,[146,774,888,179],(function(){return t=1158,e(e.s=t);var t}));var t=e.O();_N_E=t}]);